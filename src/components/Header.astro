---
import { Icon } from 'astro-icon/components';

const { lang = 'ko' } = Astro.props;
const base = lang === 'ko' ? '/ko' : '/en';
const links = [
  { href: `${base}/products`, label: 'Products', icon: 'mdi:category' },
  { href: `${base}/solutions`, label: 'Solutions', icon: 'mdi:lightbulb-on' },
  { href: `${base}/about`, label: 'About', icon: 'mdi:information' },
  { href: `${base}/support`, label: 'Support', icon: 'mdi:help-circle' },
];
---
<header class="bg-surface-1/80 dark:bg-surface-1-dark/80 backdrop-blur-sm shadow-sm sticky top-0 z-40">
  <nav class="container mx-auto px-4 flex items-center justify-between h-16">
    <a href={base} class="font-bold text-lg flex items-center gap-2">
      <Icon name="mdi:camera-iris" class="w-7 h-7 text-primary" />
      COX Camera
    </a>
    <ul class="hidden md:flex items-center gap-6 text-sm font-medium">
      {links.map(link => (
        <li>
          <a href={link.href} class="flex items-center gap-1.5 hover:text-primary transition-colors">
            <Icon name={link.icon} class="w-5 h-5" />
            <span>{link.label}</span>
          </a>
        </li>
      ))}
    </ul>
    <div class="flex items-center gap-2">
      <a href="/ko" title="한국어" class:list={["p-2 rounded-full hover:bg-surface-2 transition-colors", { "bg-primary/10 text-primary": lang === 'ko' }]}>
        <Icon name="mdi:alpha-k-box" class="w-6 h-6" />
      </a>
      <a href="/en" title="English" class:list={["p-2 rounded-full hover:bg-surface-2 transition-colors", { "bg-primary/10 text-primary": lang === 'en' }]}>
        <Icon name="mdi:alpha-e-box" class="w-6 h-6" />
      </a>
    </div>
  </nav>
</header>
